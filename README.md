# 観光ルート自動作成アプリ
## アプリの内容
### (1)観光ルート自動作成
* 出発地と観光地を入力すると回る順番(最適な観光ルート)が自動的に出力される
### (2)観光ルートの投稿
* 作成されたルートを公開し、実際に観光してみた感想や、道路情報などをSNS形式で投稿
* 他の人が作成したルートを観光時の参考にしたり、いいね評価をすることが可能
## テストアカウント
* 【本番環境】https://automatic-route-creator.herokuapp.com/login
* User Name: tester
* E-Mail Address(login): tester@test
* Password(login): test-test
## デモ
<!-- ![github_readme1](https://user-images.githubusercontent.com/106045281/208305429-fa3a3a41-abb6-4e04-98be-f569c192190f.gif) -->
<!-- ![readme2](https://user-images.githubusercontent.com/106045281/210696597-d440cfd2-6e8d-472d-9fe9-96c2d1951298.gif)-->
<!-- ![readme3](https://user-images.githubusercontent.com/106045281/230727091-09f5ac75-cea0-4d04-ab46-b28284e54d8a.gif)-->
<!-- https://github.com/kl8esta/automatic_route_creator/assets/106045281/a6f3e28f-67ff-4e63-ae8c-47fe7cb21a53 -->

### 前半
![readme4_former](https://github.com/kl8esta/automatic_route_creator/assets/106045281/04d2fc87-3e50-4337-8f24-0a24f5c2285c)
### 後半
![readme4_later](https://github.com/kl8esta/automatic_route_creator/assets/106045281/2c3f4a9a-f77b-4ca7-840d-a139092f2e9c)

## 作成背景
### 問題点
* 多くの地図アプリは観光地のまわる順番を手動で並び替える必要があり、自分で観光ルートを計画するのが大変
* あまり行ったことない都道府県の場合、どの観光地をどんな順番で回れば良いか分からない

### アプリの目的
* まわる順番を気にせず観光地を追加しても、最短経路の観光ルートを自動作成できるようにする
* 他の人が投稿したルートや実際にまわってみた感想を参考にできるようにする

## 開発環境
* 開発
    * Amazon EC2 (AWS)
* 言語
    * PHP (Laravel), JavaScript, SQL (MariaDB), Blade (HTML)
* 使用API
    * Google Maps API (Places API, Directions API)

## 機能一覧 (取り消し線は現在未実装)
### ログインページ
#### (1)アカウントログイン・新規登録
### マイページ
　(ログイン後のトップ画面。左上の「Laravel」ロゴをクリックするといつでも戻れる)
#### (2)マイページ
* 最近投稿されたルート(公開ルート3件)の表示
* 最近作成したルート(マイルート3件)の表示
* 最近いいねしたルート3件の表示
* 各ルートの全てを閲覧できる一覧ページへのリンク
### 「観光ルート作成」ページ
　(ページ上部の「観光ルートを検索・作成する」ボタンから遷移可能)
#### (3)「Search Box」で検索した観光スポットの候補のマップ表示
* 「公園」など検索すると候補がマーカーで表示される
*  マーカーをクリックすると小ウィンドウが開き、その場所の写真・住所、平均レビュー、レビュー数の情報が見られる
#### (4)行きたい場所を「観光地リスト」に追加
* 小ウィンドウ内の「目的地に追加」をクリックすると、その場所が観光地リストに追加される
    * __現在は「出発地」と「最終目的地」をあらかじめ決めておく必要がある__
    * 無料範囲のAPIでは8個まで追加可能
* ~~観光地の順番を自由に並び替える(自動の最適ルートだけでなく手動も可能にする)~~
#### (5)行きたい観光地をピックアップし、最適ルートを出力
* 「観光地リスト」下の「ルートを作成」ページボタンを押すと、「観光地リスト」内の観光地を回るルートが作成される
    * 「観光地リストの」1番目が「出発地」、最後が「最終目的地」となり、「出発地」→「経由地」→・・・→「最終目的地」のような最短時間のルートが表示される
    * 現在車のルートのみ使用可能 (徒歩 + 電車 のようなルートは日本国内では使用できない模様)
    * ~~移動手段を切り替えてルート作成(車 or 徒歩)
### ルート投稿ページ
　(「ルートガイド」ページで観光地を2つ以上追加して「ルートを作成」ボタンをクリックすると遷移)
#### (6)ルートの投稿
* 「タイトル」「補足情報」「感想」を入力し投稿
* 非公開保存(自分のみ閲覧可能or下書き)するか、公開するかを選択可能
### ルート一覧ページ
#### (7)投稿されたルートの一覧表示ページ
* タイトル、投稿者ユーザ名、まわる観光地名、所要時間、ルートマップ、感想、最終更新日、いいね数を記載
* ~~観光地名を最短経路の順番で表示する~~
* 他人が投稿したルートの閲覧
* 自分が作成したマイルート(公開・未公開(保存)全て)の閲覧
### ルート詳細ページ
#### (8)ルート投稿詳細ページ(一覧ページでタイトル名をクリックすると移動)
* タイトル、投稿者ユーザ名、最終更新日、所要時間、ルートマップ(+ナビ)、補足情報、感想、を閲覧可能
#### (9)マイルートの編集・削除
　(マイルートの詳細ページで実行可能)
* 下書きルートの再編集・削除を行う機能
    * 現在「タイトル」「補足情報」「感想」の変更はできるが、ルート自体の変更は不可
* ~~ルートの編集(「観光地リスト」の変更)
    
#### (10)投稿されたルートにいいねをする
* 投稿されたルートそれぞれに「いいねボタン + いいね数」の実装(一覧表示ページで確認可能)
* ~~いいね数に応じて公開ルートを並び替える~~

## 工夫した点
* 開発前の入念な計画
    * 機能名・機能詳細のリスト化、開発ブランチごとの機能設計目標、データベース・アプリ動作の設計
* 観光地のマーカークリック時、デフォルトの「地名」だけでなく、「写真」「住所」「平均評価」「レビュー数」の情報を付与
    * ユーザが観光地をよりイメージできるように変更

## 苦労したこと
* 「観光地リスト」に観光地を追加するときのボタン処理、APIレスポンスデータの整形
* いいね機能を実装するための非同期処理の実装
* 「マイページ」「ルート一覧」ページでAPIを複数呼び出し、全てのルートマップを描画する機能の実装
